# 3. 타입과 추상화

## 추상화를 통한 복잡성 극복

복잡한 현실을 이해하기 위해서 현실을 분해하고 단순화 함.

**추상화**

* 현실에서 출발하되 불필요한 부분을 도려내가면서 사물의 놀라운 본질을 드러나게 하는 과정

  > 의도된 목적이 아닌 다른 목적으로 사용 시 오도될 수 있음.

1. **구체적인 사물**들 간 공통점은 취하고 차이점을 버려 **일반화**를 통해 단순하게 만드는 것.

   > 일반화를 적용한 결과: **개념**

2. 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거함으로써 **단순하게** 만드는 것.

   > 모든 경우에 추상화의 목적은 복잡성을 이해하기 쉬운수준으로 단순화하는 것이라는 점.



## 객체지향과 추상화

유사성을 기반으로 추상화하기.

앨리스 이야기에서 등장하는 정원사, 병사, 신하, 왕자, 공주 하객 등 **서로를 구별할 수 있는 독특한 특징**이 있음

이렇게 서로를 구별할 수 있는 구체적인 사람이나 사물을 **객체**라고 한다.

하지만 앨리스는 위의 등장인물들의 **공통점**을 추려내어 트럼프라고 지칭. -> 추상화

> 복잡성이 감소함.



### 개념

* **공통점**을 기반으로 객체들을 묶기 위한 그릇

  > 일반적으로 우리가 인식하고 있는 다양한 사물이나 객체에 적용할 수 있는 아이디어나 관념

* 개념을 이용하면 객체를 여러 그룹으로 **분류(classification)** 할 수 있다.

* 객체가 개념 그룹의 일원이 될 때 객체를 그 개념의 **인스턴스** 라고 한다.

  > 객체: 특정한 개념을 적용할 수 있는 구체적인 사물. 개념이 객체에 적용되었을 때 객체를 개념의 인스턴스라고 한다.



#### 개념의 세 가지 관점

* **심볼**(symbol): 개념을 가리키는 간략한 이름이나 명칭

* **내연**(intension): 개념의 완전한 정의. 내연의 의미를 이용해 객체가 개념에 속하는지 여부를 확인

  > 상태 & 행동

* **외연**(extension): 개념에 속하는 모든 객체의 집합

  > 자식객체?

**개념을 이용해 객체를 분류할 수 있음이 중요하다!**



## 타입

* 공통점을 기반으로 객체들을 묶기 위한 틀

  > 어떤 객체에 타입을 적용할 수 있을 때 그 객체를 타입의 인스턴스라고 한다.

* 개념보다 기계적인 의미.



### 데이터 타입

* 데이터가 메모리 안으로 들어가면 0과 1로 나열됨.
* 메모리 안의 데이터에 의미를 부여하기 위해 타입을 만들었다.
* 데이터가 잘못 사용되지 않도록 제약사항을 부과한 것.

1. **타입**은 데이터가 어떻게 사용되느냐에 관한 것.
   * 어떤 데이터에 어떤 연산자를 적용할 수 있느냐가 그 데이터의 타입을 결정함.
2. 타입에 속한 데이터를 메모리에 어떻게 표한하는지는 외부로부터 감춰진다.
   * 메모리 내부에 어떤식으로 0과 1이 나열되는지 몰라도 숫자형 데이터를 사용 가능.

**데이터 타입은 메모리 안에 저장된 데이터의 종류를 분류하는 데 사용하는 메모리 집합에 관한 메타데이터. 데이터의 분류는 해당 데이터에 어떤 연산이 수행될 수 있는지를 결정한다.**



### 객체와 타입

1. 어떤 객체가 어떤 타입에 속하는지를 결정하는 것은 객체가 수행하는 행동이다.
   * 어떤 객체들이 동일한 행동을 수행할 수 있다면 그 객체들은 동일한 타입으로 분류될 수 있다.
2. 객체의 내부적인 표현은 외부로부터 철저하게 감춰진다.
   * 객체의 행동을 효과적으로 수행한다면, 객체 내부의 상태를 어떤 방식으로 표현해도 무방.



### 행동이 우선이다.

* 어떤 객체가 다른 객체와 같은 행동을 한다면 같은 객체.
* 그 객체가 다른 객체와 동일한 데이터를 가져도 다른 행동을 하면 다른 타입으로 분류되어야 한다.

👉 객체의 타입을 결정하는 것은 객체의 타입 뿐이다.



**훌륭한 객체지향 설계는 외부에 행동만을 제공하고 데이터는 행동 뒤로 감춰야 한다.**

* **캡슐화!**

**객체를 결정하는 것은 행동이다.**



## 타입의 계층

트럼프 인간: 트럼프보다 더 특화된 행동을 하는 특수한 개념 => **일반화/특수화**(generalization/specialization)이라고 한다.



### 일반화/특수화 관계

두 타입 간에 일반화/특수화 관계가 성립하게 하려면  한 타입이 다른 타입보다 특수하게 행동하고 다른 타입은 일반적으로 행동해야 한다.

중요한 것은 객체가 외부에 제공하는 행동.



* 일반적인 타입이란 특수한 타입이 가진 모든 행동 중 일부 행동만 가지는 타입.
* 특수한 타입은 일반적인 타입이 가진 모든 타입을 포함하지만 더해 자신만의 행동을 추가.
  * 일반적인 타입이 할 수 있는ㄴ 모든 행동을 동일하게 수행
* 일반적인 타입은 특수한 타입보다 더 적은 수의 **행동**을 가지지만, 더 큰 크기의 **외연**을 가짐



### 슈퍼타입과 서브타입 

일반적인 타입을 **슈퍼타입**, 특수한 타입을 **서브타입** 이라고 한다.

* 어떤 타입이 다른타입의 서브타입이 되기 위해서는 행위적 호환성을 만족시켜야 한다.
* 서브타입은 슈퍼타입을 대체할 수 있어야 한다.



**분류와 일반화/특수화 기법은 보통 동시에 적용된다.**



## 정적 모델

* 타입은 시간에 따라 동적으로 변하는 객체의 상태를 시간과 무관한 정적인 모습으로 다룰 수 있게 해준다.
* 타입을 이용하면 객체의 <u>동적인 특성을 추상화</u> 할 수 있다.
* 객체를 생각할 때 두가지 모델을 동시에 고려한다.
  1. 객체가 특정 시점에 구체적으로 어떤 상태를 가지느냐.
     * 객체의 스냅샷 / 객체 다이어그램
     * 객체가 살아 움직이는 동안 상태가 어떻게 변하고 어떻게 행동하는지를 포착하는 것을 **동적 모델**이라고 한다.
  2. 객체가 가질 수 있는 모든 상태와 행동을 시간에 독립적으로 표현.
     * 타입모델 / **정적 모델**이라고 한다.

#### 클래스

* 객체지향 프로그래밍 언어에서 정적인 모델은 클래스를 이용해 구현된다.
* 객체를 분류하기 위해 타입을 결정한 후 프로그래밍 언어를 이용해 타입을 구현할 수 있는 한 가지 방법이 클래스.
* 중요한 것은 **동적으로 변하는 객체의 '상태'와 상태를 변경하는 '행위'이다.











