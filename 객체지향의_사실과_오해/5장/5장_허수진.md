# 책임과 메세지 

---

## ▶ 자율적인 책임

너무 추상적인 책임은 협력에 의도를 명확하게 표현하지 못한다.

자율적인 책임은 `어떻게` 가 아니라 `무엇을` 해야하는가를 설명하는 것이다.

메세지를 수신할 때 행동이 시작된다.

책임이라는 말 속에는 어떤 행동을 수행한다는 의미도 포함되어 있다. 

---

## ▶ Message / Method

메세지는 이름과 인자로 구성되어 있고,

전송은 메세지 + 수신자로 구성되어 있다. 

수신자는 우선 자신이 해당 메세지를 처리할 수 있는지 확인하고 가능하면 행동한다. 

결국 객체가 수신할 수 있는 메세지의 모양이, 객체가 수행할 책임의 모양이 된다.

책임을 수행하는 방법이 변해도 책임을 수행할 수만 있다면 상관없다.



---

## 메서드

객체가 메세지를 처리하기 위해 내부적으로 선택하는 방법을 메서드라고 함

- 객체는 메세지를 수신함과 즉시 처리가 가능한지 여부를 확인함.
- 메세지를 처리하는 여부로 메서드를 결정한다.
- 메서드는 클래스 안에 포함된 함수 or 프로시저로 구현된다.
- 메세지는 `어떻게` 수행될 것인지 명시하지 않는다.

---

## 다형성

일반적인 객체 사이에 대체 가능성을 의미한다. 

서로 다른 유형에 객체가 동일한 메세지에 대하여 서로 다르게 반응하는 것을 의미한다. 

역할, 책임, 협력과 깊은 관련이 있다. 

어떻게 할 것인가는 수신자가 결정할 수 있다. 

### 객체 지향 패러다임이 강한 이유는 다형성을 이용해 협력을 유연하게 만들 수 있기 때문이다.

---

## 객체지향 앱 중심 포인트

연쇄적으로 메세지를 전송하고 수신하는 객체들 사이의 협력 관계를 기반으로 사용자에게 유용한 기능을 제공하는 것이다. 

---

클래스 간 상속 관계가 객체지향 설계를 가치 있게 만드는 핵심이 아니다. 

객체들이 주고 받는 메세지로부터 나온다. 



---

## 훌륭한 객체지향 설계1

어떤 객체가 어떤 메세지를 전송할 수 있는가?

어떤 객체가 어떤 메세지를 이해할 수 있는가를 중심으로 

객체 사이에 협력관계를 구성하는 것이다. 

---

## 책임 주도 설계

1. 시스템이 수행할 책임을 구현하기 위해 협력을 시작할 적절한 객체를 찾아 책임을 할당한다.
2. 객체가 책임을 완수하기 위해 도움이 필요하면 다른 객체에게 메세지를 보내어 완수한다. 

---

## What/ Who 사이클

행위를 결정한 후, 수행할 객체를 결정한다. 

"어떤 객체도 섬이 아니다! 협력이라는 문맥안에서 객체의 책임과 역할을 결정한다면 말이다."

객체는 다른 객체의 결정에 간섭하지 말아야하며 모든 객체는 자신의 상태를 기반으로 스스로 결정을 내려야한다. 

## tell, don't ask 

묻지말고 시켜라는 메세지가 어떻게 해야하는지 지시하지말고, 무엇을 해야하는 지 요청하는 것이다.

### 객체를 자율적으로 만들고 캡슐화를 보장하며 결합도를 낮게 유지 시켜주기 때문에 설계를 유연하게 한다.

---

## 메세지를 믿어라

협력하는 객체들의 연결망.

## 인터페이스

어떤 두 사물이 마주치는 경계지점에서 서로 상호 작용할 수 있게 이어주는 방법이나 장치를 의마한다. 

사람들은 말과 글, 몸짓이라는 인터페이스를 활용하여 자신의 의사를 전달한다.

사람이건 사물이건 어떤 대상과 상호작용하고 싶다면, 그 대상이 사용하는 인터페이스를 익혀야한다. 

- 조금더 추상적인 인터페이스
- 최소 인터페이스
- 인터페이스와 구현간에 차이가 있다는 점.

메세지의 추상적인 의도를 구현한 것이 추상 클래스이다

최소 인터페이스 주의(외부에서 몰라도 되는 인터페이스는 숨겨라.)

---

## 구현(Implementation)

객체는 상태(어떻게 표현할 것인가) 와 행동(메서드) 로 구성된다. 

소프트웨어는 언제든 변경 가능서잉 있기 때문에 변경에 의한 파급력이 적어야한다. 

따라서 인터페이스와 구현의 분리 원칙이 생겼다. 

변경해도 무방한 안정지대와 위험지대를 구분하는 것 많으로도 상당히 편리해진다.

---

## 캡슐화

허가받은 인터페이스만 데이터에 접근 가능하게 한다. 데이터를 캡슐화 한다고 하기도 한다.

외부에서 객체와 의사 소통할 수 있는 고정된 경로를 공용 인터페이스라고 한다. 

---

## 정리 

1. 자율적인 책임은 협력을 단순하게 만든다.
2. 자율적인 책임은 외부와 내부를 명확하게 분리한다.
3. 책임을 수행하는 내부를 변경해도, 외부는 변하지 않는다.
4. 유연성을 제공한다. 



우리가 서비스 메서드를 생성할 때 무엇을 할 지만(동사) 명시하고 어떻게 할 것인가를 명시하지 않는 예가 자율성을 보장하면서

구현하는 예라고 생각된다.



```java
public int save(int id, String name){
  userRepository.save(id,name); 
}

public int save( String name){
  int id = 2;
  userService.save(id,name); 
}
```






